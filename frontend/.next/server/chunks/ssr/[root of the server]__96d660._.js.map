{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/yujing/Desktop/web3/project/web3-chatbot/frontend/src/app/components/Navigation.js"],"sourcesContent":["// src/app/components/Navigation.js\n'use client';\nimport React from 'react';\nimport Link from 'next/link';\nimport { Menu, theme } from 'antd';\n\nexport default function Navigation() {\n  const handleMenuClick = (e) => {\n    console.log('click ', e);\n  };\n\n  const {\n    token: { colorBgContainer, borderRadiusLG },\n  } = theme.useToken();\n\n  return (\n    <Menu\n      style={{\n        background: colorBgContainer,\n      }}\n      mode=\"inline\"\n      defaultSelectedKeys={['1']}\n      onClick={handleMenuClick}\n      items={[\n        // {\n        //   key: 'index',\n        //   label: <Link href=\"/\">Home</Link>,\n        // },\n        // {\n        //   key: 'market-analysis',\n        //   label: <Link href=\"/market\">Smart Market</Link>,\n        // },\n        // {\n        //   key: 'learning-center',\n        //   label: <Link href=\"/learning\">AI Recommendation</Link>,\n        // },\n        // {\n        //   key: 'blog',\n        //   label: <Link href=\"/blog\">博客</Link>,\n        // },\n        {\n          key: 'user-center',\n          label: <Link href=\"/user\">User</Link>,\n        }\n      ]}\n    />\n  );\n}"],"names":[],"mappings":"AAAA,mCAAmC;;;;;AAEnC;AACA;AACA;AAAA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,kBAAkB,CAAC;QACvB,QAAQ,GAAG,CAAC,UAAU;IACxB;IAEA,MAAM,EACJ,OAAO,EAAE,gBAAgB,EAAE,cAAc,EAAE,EAC5C,GAAG,gLAAA,CAAA,QAAK,CAAC,QAAQ;IAElB,qBACE,8OAAC,8KAAA,CAAA,OAAI;QACH,OAAO;YACL,YAAY;QACd;QACA,MAAK;QACL,qBAAqB;YAAC;SAAI;QAC1B,SAAS;QACT,OAAO;YACL,IAAI;YACJ,kBAAkB;YAClB,uCAAuC;YACvC,KAAK;YACL,IAAI;YACJ,4BAA4B;YAC5B,qDAAqD;YACrD,KAAK;YACL,IAAI;YACJ,4BAA4B;YAC5B,4DAA4D;YAC5D,KAAK;YACL,IAAI;YACJ,iBAAiB;YACjB,yCAAyC;YACzC,KAAK;YACL;gBACE,KAAK;gBACL,qBAAO,8OAAC,4JAAA,CAAA,UAAI;oBAAC,MAAK;8BAAQ;;;;;;YAC5B;SACD;;;;;;AAGP"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///Users/yujing/Desktop/web3/project/web3-chatbot/frontend/src/static/logo.png.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 48, height: 48, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAXklEQVR42o3NIQoAIRCFYQWDGDyEBzCIF1CwWCxewDIwcZg6h9+4zIbFv348njH/OedijCEEa62CWisinnNKKQp670TEzGstNWqtAcAYQ0S89y+klPbec86c8/fmtgczjA9ncQTZ8QAAAABJRU5ErkJggg==\", blurWidth: 8, blurHeight: 8 }\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,kHAAA,CAAA,UAAG;IAAE,OAAO;IAAI,QAAQ;IAAI,aAAa;IAAsO,WAAW;IAAG,YAAY;AAAE"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 220, "column": 0}, "map": {"version":3,"sources":["file:///Users/yujing/Desktop/web3/project/web3-chatbot/frontend/src/hooks/useWallet.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { ethers } from 'ethers';\n\nexport const useWallet = () => {\n  const [account, setAccount] = useState(null);\n  const [provider, setProvider] = useState(null);\n  const [error, setError] = useState(null);\n  const [chainId, setChainId] = useState(null);\n  const [balance, setBalance] = useState(null);\n  const [signer, setSigner] = useState(null);\n\n  // 初始化 provider 和监听器\n  useEffect(() => {\n    const initProvider = async () => {\n      if (window.ethereum) {\n        try {\n          const provider = new ethers.BrowserProvider(window.ethereum);\n          setProvider(provider);\n\n          // 获取当前链ID\n          const network = await provider.getNetwork();\n          setChainId(network.chainId);\n\n          // 检查是否已经连接\n          const accounts = await provider.listAccounts();\n          if (accounts.length > 0) {\n            const account = accounts[0];\n            setAccount(account.address);\n            \n            // 获取余额\n            const balance = await provider.getBalance(account.address);\n            setBalance(ethers.formatEther(balance));\n\n            // 获取 signer\n            const signer = await provider.getSigner();\n            setSigner(signer);\n          }\n\n          // 监听账户变化\n          window.ethereum.on('accountsChanged', handleAccountsChanged);\n          \n          // 监听链变化\n          window.ethereum.on('chainChanged', handleChainChanged);\n\n        } catch (err) {\n          setError(err.message);\n        }\n      } else {\n        setError('请安装 MetaMask 钱包');\n      }\n    };\n\n    initProvider();\n\n    // 清理函数\n    return () => {\n      if (window.ethereum) {\n        window.ethereum.removeListener('accountsChanged', handleAccountsChanged);\n        window.ethereum.removeListener('chainChanged', handleChainChanged);\n      }\n    };\n  }, [account]);\n\n  // 处理账户变化\n  const handleAccountsChanged = async (accounts) => {\n    if (accounts.length > 0) {\n      setAccount(accounts[0]);\n      if (provider) {\n        const balance = await provider.getBalance(accounts[0]);\n        setBalance(ethers.formatEther(balance));\n        const signer = await provider.getSigner();\n        setSigner(signer);\n      }\n    } else {\n      // 用户断开了所有账户\n      handleDisconnect();\n    }\n  };\n\n  // 处理链变化\n  const handleChainChanged = async (newChainId) => {\n    setChainId(newChainId);\n    // 重新初始化 provider\n    if (window.ethereum) {\n      const provider = new ethers.BrowserProvider(window.ethereum);\n      setProvider(provider);\n      if (account) {\n        const balance = await provider.getBalance(account);\n        setBalance(ethers.formatEther(balance));\n        const signer = await provider.getSigner();\n        setSigner(signer);\n      }\n    }\n  };\n\n  // 连接钱包\n  const connectWallet = async () => {\n    try {\n      if (!window.ethereum) {\n        throw new Error('请安装 MetaMask 钱包');\n      }\n\n      // 请求用户连接\n      const accounts = await window.ethereum.request({\n        method: 'eth_requestAccounts',\n      });\n\n      if (accounts.length > 0) {\n        setAccount(accounts[0]);\n        \n        // 获取并设置链ID\n        const chainId = await window.ethereum.request({ \n          method: 'eth_chainId' \n        });\n        setChainId(chainId);\n\n        // 获取并设置余额\n        if (provider) {\n          const balance = await provider.getBalance(accounts[0]);\n          setBalance(ethers.formatEther(balance));\n          const signer = await provider.getSigner();\n          setSigner(signer);\n        }\n\n        // 保存连接状态\n        localStorage.setItem('walletConnected', 'true');\n        localStorage.setItem('walletAccount', accounts[0]);\n      }\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n\n  // 断开连接\n  const disconnectWallet = async () => {\n    \n    try {\n      // 清除状态\n      setAccount(null);\n      setChainId(null);\n      setBalance(null);\n      setSigner(null);\n      setError(null);\n\n      // 清除本地存储\n      localStorage.removeItem('walletConnected');\n      localStorage.removeItem('walletAccount');\n      \n      // 触发全局状态更新\n      window.dispatchEvent(new Event('wallet_disconnected'));\n      \n      return true;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n\n  // 切换网络\n  const switchNetwork = async (chainId) => {\n    try {\n      await window.ethereum.request({\n        method: 'wallet_switchEthereumChain',\n        params: [{ chainId: ethers.toQuantity(chainId) }],\n      });\n    } catch (err) {\n      // 如果网络不存在，则添加网络\n      if (err.code === 4902) {\n        await addNetwork(chainId);\n      } else {\n        setError(err.message);\n        throw err;\n      }\n    }\n  };\n\n  // 添加网络\n  const addNetwork = async (chainId) => {\n    try {\n      const networkParams = {\n        59144: {\n          chainId: ethers.toQuantity(59144),\n          chainName: 'Linea Mainnet',\n          nativeCurrency: {\n            name: 'ETH',\n            symbol: 'ETH',\n            decimals: 18,\n          },\n          rpcUrls: ['https://linea-rpc.publicnode.com'],\n          blockExplorerUrls: ['https://lineascan.build'],\n        },\n        // 可以添加其他网络\n      };\n\n      await window.ethereum.request({\n        method: 'wallet_addEthereumChain',\n        params: [networkParams[chainId]],\n      });\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    }\n  };\n\n  return {\n    account,\n    chainId,\n    balance,\n    error,\n    provider,\n    signer,\n    connectWallet,\n    disconnectWallet,\n    switchNetwork,\n    addNetwork,\n  };\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 426, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 432, "column": 0}, "map": {"version":3,"sources":["file:///Users/yujing/Desktop/web3/project/web3-chatbot/frontend/src/app/components/UserCenter.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Dropdown, Avatar, message } from 'antd'\nimport { useWallet } from '@/hooks/useWallet';\nimport Link from 'next/link';\n\nexport default function UserCenter() {\n  const [ url, setUrl ] = useState('https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg');\n  const { disconnectWallet, account } = useWallet();\n  const [messageApi, contextHolder] = message.useMessage();\n  const [disconnectSuccess, setDisconnectSuccess] = useState(false);\n  const [disconnectError, setDisconnectError] = useState(null);\n\n  const handleDisconnect = async () => {\n    console.log('handleDisconnect', account);\n    \n    try {\n      await disconnectWallet();\n      setDisconnectSuccess(true);\n    } catch (err) {\n      setDisconnectError(err.message);\n    }\n  };\n\n  useEffect(() => {\n    if (disconnectSuccess) {\n      messageApi.success('已断开连接');\n      setDisconnectSuccess(false); // 重置状态\n    }\n  }, [disconnectSuccess, messageApi]);\n\n  useEffect(() => {\n    if (disconnectError) {\n      messageApi.error('断开连接失败：' + disconnectError);\n      setDisconnectError(null); // 重置状态\n    }\n  }, [disconnectError, messageApi]);\n\n  const items = [\n    {\n      key: '2',\n      label: (\n        <Link href=\"/login\">设置</Link>\n      ),\n    },\n    {\n      key: '3',\n      label: (\n        <p onClick={handleDisconnect}>断开连接</p>\n      ),\n    },\n  ];\n\n  \n\n  return (\n    <div>\n      {contextHolder}\n      <Dropdown\n        menu={{\n          items,\n        }}\n        trigger={['click']}\n        placement=\"bottom\"\n        arrow={{\n          pointAtCenter: true,\n        }}\n      >\n        <Avatar className=\"mr-2\" src={url} />\n      </Dropdown>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;;;;;;AAIe,SAAS;IACtB,MAAM,CAAE,KAAK,OAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,EAAE,gBAAgB,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,yHAAA,CAAA,YAAS,AAAD;IAC9C,MAAM,CAAC,YAAY,cAAc,GAAG,oLAAA,CAAA,UAAO,CAAC,UAAU;IACtD,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvD,MAAM,mBAAmB;QACvB,QAAQ,GAAG,CAAC,oBAAoB;QAEhC,IAAI;YACF,MAAM;YACN,qBAAqB;QACvB,EAAE,OAAO,KAAK;YACZ,mBAAmB,IAAI,OAAO;QAChC;IACF;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,mBAAmB;YACrB,WAAW,OAAO,CAAC;YACnB,qBAAqB,QAAQ,OAAO;QACtC;IACF,GAAG;QAAC;QAAmB;KAAW;IAElC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,iBAAiB;YACnB,WAAW,KAAK,CAAC,YAAY;YAC7B,mBAAmB,OAAO,OAAO;QACnC;IACF,GAAG;QAAC;QAAiB;KAAW;IAEhC,MAAM,QAAQ;QACZ;YACE,KAAK;YACL,qBACE,8OAAC,4JAAA,CAAA,UAAI;gBAAC,MAAK;0BAAS;;;;;;QAExB;QACA;YACE,KAAK;YACL,qBACE,8OAAC;gBAAE,SAAS;0BAAkB;;;;;;QAElC;KACD;IAID,qBACE,8OAAC;;YACE;0BACD,8OAAC,sLAAA,CAAA,WAAQ;gBACP,MAAM;oBACJ;gBACF;gBACA,SAAS;oBAAC;iBAAQ;gBAClB,WAAU;gBACV,OAAO;oBACL,eAAe;gBACjB;0BAEA,cAAA,8OAAC,kLAAA,CAAA,SAAM;oBAAC,WAAU;oBAAO,KAAK;;;;;;;;;;;;;;;;;AAItC"}},
    {"offset": {"line": 538, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 544, "column": 0}, "map": {"version":3,"sources":["file:///Users/yujing/Desktop/web3/project/web3-chatbot/frontend/src/utils/contract.js"],"sourcesContent":["import { ethers } from 'ethers'; // 引入ethers.js\nexport async function getContract(){\n  // 连接到以太坊钱包\n  const provider = new ethers.BrowserProvider(window.ethereum);\n  // 获取签名者\n  const signer = await provider.getSigner();\n  console.log(signer, 'signer');\n  \n}"],"names":[],"mappings":";;;AAAA,4SAAiC,cAAc;;AACxC,eAAe;IACpB,WAAW;IACX,MAAM,WAAW,IAAI,gLAAA,CAAA,SAAM,CAAC,eAAe,CAAC,OAAO,QAAQ;IAC3D,QAAQ;IACR,MAAM,SAAS,MAAM,SAAS,SAAS;IACvC,QAAQ,GAAG,CAAC,QAAQ;AAEtB"}},
    {"offset": {"line": 556, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 562, "column": 0}, "map": {"version":3,"sources":["file:///Users/yujing/Desktop/web3/project/web3-chatbot/frontend/src/app/layout.js"],"sourcesContent":["'use client'\nimport Navigation from './components/Navigation';\nimport './globals.css';\nimport React, { useState, useEffect } from 'react';\nimport { Button, Layout, theme, message } from 'antd';\n\nimport {\n  MenuFoldOutlined,\n  MenuUnfoldOutlined\n} from '@ant-design/icons';\nimport Image from 'next/image';\nimport logo from '../static/logo.png';\nimport UserCenter from '@/app/components/UserCenter';\nimport { getContract } from '@/utils/contract';\nimport { useWallet } from '@/hooks/useWallet';\n\n\nconst { Header, Content, Footer, Sider } = Layout;\n\nconst RootLayout = ({ children }) => {\n    const [collapsed, setCollapsed] = useState(false);\n    const {\n      token: { colorBgContainer, borderRadiusLG },\n    } = theme.useToken();\n    const [messageApi, contextHolder] = message.useMessage();\n    \n    const { account, error, connectWallet, disconnectWallet } = useWallet();\n\n    // 添加事件处理函数\n    const handleConnect = async () => {\n      try {\n        await connectWallet();\n        messageApi.success('钱包连接成功！');\n      } catch (err) {\n        messageApi.error('连接失败：' + err.message);\n      }\n    };\n\n\n\n    useEffect(() => {\n      if (error) {\n        messageApi.error(error);\n      }\n    }, [error, messageApi]);\n\n    // 监听账户状态变化\n    useEffect(() => {\n      console.log('当前钱包状态:', account);\n    }, [account]);\n\n    return (\n        <html lang=\"en\">\n            <body>\n                <Layout\n                  style={{\n                    minHeight: '100vh',\n                  }}\n                >\n                  <Sider collapsible theme='light' collapsed={collapsed} onCollapse={(value) => setCollapsed(value)}>\n                    <div className={`logo flex items-center mt-3 mb-2 ml-5 ${collapsed ? 'justify-center' : 'justify-start'}`}>\n                      {/* <img src=\"/logo.png\" alt=\"logo\" /> */}\n                      <Image src={logo} alt=\"logo\" width={24} height={24} />\n                      <span className=\"ml-2 font-bold\">{collapsed ? '' : 'Chatbot'}</span>\n                    </div>\n                    <Navigation />\n                  </Sider>\n                  <Layout>\n                    <Header\n                      style={{\n                        padding: 0,\n                        background: colorBgContainer,\n                        display: 'flex',\n                        alignItems: 'center',\n                        justifyContent: 'space-between',\n                      }}\n                    >\n                      <Button\n                        type=\"text\"\n                        icon={collapsed ? <MenuUnfoldOutlined /> : <MenuFoldOutlined />}\n                        onClick={() => setCollapsed(!collapsed)}\n                        style={{\n                          fontSize: '16px',\n                          width: 64,\n                          height: 64,\n                        }}\n                      />\n                      <div className=\"flex justify-end items-center h-full mr-2\">\n                        {/* <Avatar className=\"mr-2\" src={<img src={url} alt=\"avatar\" />} /> */}\n                        \n                        {/* {account && (\n                          <>\n                            <span className=\"mr-4\">{`${account.slice(0, 6)}...${account.slice(-4)}`}</span>\n                            <Button onClick={handleDisconnect}>断开连接</Button>\n                            <UserCenter />\n                          </>\n                        )} */}\n                        { account && (<>\n                          <span className=\"mr-4\">{`${account.slice(0, 6)}...${account.slice(-4)}`}</span>\n                          <UserCenter /> \n                        </>)}\n                        {!account && (\n                          <Button type=\"primary\" onClick={handleConnect}>\n                            连接钱包\n                          </Button>\n                        )}\n                      </div>\n                    </Header>\n                    <Content\n                      style={{\n                        margin: '0 16px',\n                      }}\n                    >\n                      <div\n                        style={{\n                          height: '100%',\n                          marginTop: '20px',\n                          padding: '24px',\n                          background: colorBgContainer,\n                          borderRadius: borderRadiusLG,\n                        }}\n                      >\n                       { children }\n                      </div>\n                    </Content>\n                    <Footer\n                      style={{\n                        textAlign: 'center',\n                      }}\n                    >\n                      Ant Design ©{new Date().getFullYear()} Created by Ant UED\n                    </Footer>\n                  </Layout>\n                </Layout>\n            </body>\n        </html>\n    );\n};\n\nexport default RootLayout;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 807, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}